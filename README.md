### **ФИО** 
Шишкин Владимир Артемович

### **Потраченное на решение задания время**
4 часа
### **Описание принятых решений**

#### **Было обнаружено несколько проблем:**

* 1) Неправильный расчет времени нахождения самолета в полете, если время вылета или время прилета позже 12 часов дня;
* 2) При расчете времени нахождения самолета в полете не учитывалась разница в часовых поясах между городом отправления и городом прибытия рейса;
* 3) Недостаточно полная информация в результирующей таблице.

### **Решение**
#### **Проблема 1:**

В некоторых случаях суммарное время в полете равно отрицательному значению. Такие случаи означают, что день изменился. Для того, чтобы решить данную проблему нужно прибавить к результату 24 часа = 1440 минут:
```php
$preResult = $this->calculateMinutesFromStartDay($this->toTime) - $this->calculateMinutesFromStartDay($this->fromTime);

        if ($preResult < 0) {
            $preResult =  $preResult + 1440;
        }
```

#### **Проблема 2:**

Для того, чтобы учитывать разницу в часовых между городом отправления и городом прибытия рейса необходимо привести один из пунктов отправления(прибытия) к часовому поясу другого. Было принятно решение приводить часовой пояс города прибытия к часовому поясу города отправления. Для этого нужно вычесть из часового пояса города отправления часовой пояс города прибытия:

```php
return 60 * ($timeZoneFrom - $timeZoneTo);
```

А затем прибавить данную разницу к полученному суммарному времени в полете.
Однако, при таком решении, сумма времени в полете и полученной разницы в часовых поясах:
* 1) Может быть больше 24 часов. В данном случае день изменился. Для того, чтобы результирующее время в полете отображалось корректно, необходимо вычесть 24 часа из суммы времени в полете и полученной разницы в часовых поясах;
* 2) Может быть отрицательной. Данный случай, также, означает, что день изменился. Для того, чтобы результирующее время в полете отображалось корректно, необходимо прибавить 24 часа к сумме времени в полете и полученной разницы в часовых поясах;
* 3) Получается корректной.

```php
 $result = $preResult + $this->addTimeZoneCalculation();

        if ($result > 1440 ) {
            return $result - 1440;
        }
        elseif ($result < 0) {
            return $result + 1440;
        }
        else {
            return $result;
        }
```
#### **Проблема 3:**

Для решения данной проблемы в таблицу вывода результирующих данных были добавлены часовые пояса городов. 